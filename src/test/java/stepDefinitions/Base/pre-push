#!/bin/sh

echo "Running pre-push checks..."

# Run Maven clean test
mvn clean test

# Capture the exit code of the last command
RESULT=$?

# If tests failed, prevent the push
if [ $RESULT -ne 0 ]; then
  echo "❌ Tests failed! Please fix the issues before pushing."
  exit 1
fi

echo "✅ All tests passed! Proceeding with push..."
exit 0